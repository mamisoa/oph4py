[[extend "baseof.html"]]

[[ block page_head]]
[[ end ]]

[[ block left_nav ]]
[[ include 'partials/nav-test.html' ]]
[[ end]]

[[ include 'partials/patient-bar.html' ]]

<div class="container-fluid mb-3"> <!-- controller title-->
    <div class="row big-title">
        <div class="col">
            <h1><a role="button" data-bs-toggle="collapse" href=".md">Medical examination</a></h1>
        </div>
    </div>
</div>

<div id="hx-container" class="container-fluid mb-3"> <!-- Hx container-->
    <div class="row mb-3 big-title">
        <div class="col">
            <h2><a role="button" data-bs-toggle="collapse" href=".history">Past history</a></h2>
        </div>
    </div>
    <div class="row history">
        <div class="col">
            <h3 class="big-title"><a role="button" data-bs-toggle="collapse" href=".gHx">General history</a></h3>
            <div class="row gHx">
                <div class="col">
                    <div class="row mb-3"> <!-- row medications -->
                        <div class="col">
                            <h4 class="big-title">Medications</h4>
                            <div>
                                <button type="button" id="btnNewMx" class="btn btn-dark btn-sm" data-bs-toggle="modal" data-bs-target="#mxModal">
                                    Add medication<i class="mx-2 fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        <div class="row mt-3"> <!-- mx_tbl-->
                            <div class="col">
                                <table
                                    id="mx_tbl"
                                    data-side-pagination="server"
                                    data-toggle="table"
                                    data-pagination="true"
                                    data-page-size="10"
                                    data-search="false"
                                    data-query-params="queryParams"
                                    data-response-handler="responseHandler_mx"
                                    data-detail-formatter="detailFormatter_mx"
                                    data-detail-view="true"
                                    data-detail-view-icon="true"
                                    >
                                    <thead>
                                        <tr>
                                            <th data-field="onset" data-sortable="true">Onset</th>
                                            <th data-field="ended" data-sortable="false">Ended</th>
                                            <th data-field="medication" data-sortable="true">Medication</th>
                                            <th data-field="delivery" data-sortable="false">Delivery</th>
                                            <th data-field="frequency_h" data-sortable="false">Frequency</th>
                                            <th data-field="operate" data-formatter="operateFormatter_mx" data-events="operateEvents_mx">Action
                                            </th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div> <!-- end row mx_tbl-->
                    </div>
                </div>
                <div class="col">
                    <div class="row mb-3">
                        <div class="row mb-3">
                            <div class="col">
                                <h4 class="big-title">Allergy</h4>
                            </div>
                            <div>
                                <button type="button" id="btnNewAx" class="btn btn-dark btn-sm" data-bs-toggle="modal" data-bs-target="#axModal">
                                    Add allergy<i class="mx-2 fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col">
                                <table
                                    id="ax_tbl"
                                    data-side-pagination="server"
                                    data-toggle="table"
                                    data-pagination="true"
                                    data-page-size="10"
                                    data-search="false"
                                    data-query-params="queryParams"
                                    data-row-style="rowStyle_ax"
                                    data-response-handler="responseHandler_ax"
                                    data-detail-formatter="detailFormatter_ax"
                                    data-detail-view="true"
                                    data-detail-view-icon="true"
                                    >
                                    <thead>
                                        <tr>
                                            <th data-field="onset" data-sortable="true">Onset</th>
                                            <th data-field="ended" data-sortable="false">Ended</th>
                                            <th data-field="typ" data-sortable="true">Type</th>
                                            <th data-field="agent" data-sortable="true">Agent</th>
                                            <th data-field="operate" data-formatter="operateFormatter_ax" data-events="operateEvents_ax">Action</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- end div row medications allergy -->
            <div class="row gHx">
                <div class="col">
                    <div class="row mb-3"> <!-- row mHx -->
                        <div class="col">
                            <h4 class="big-title">Medical Hx</h4>
                            <div>
                                <button type="button" id="btnNewmHx" class="btn btn-dark btn-sm" data-bs-toggle="modal" data-bs-target="#mHxModal" data-bs-category="medical">Add past medical history<i class="mx-2 fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        <div class="row mt-3"> <!-- mHx_tbl-->
                            <div class="col">
                                <table
                                    id="mHx_tbl"
                                    data-side-pagination="server"
                                    data-toggle="table"
                                    data-pagination="true"
                                    data-page-size="10"
                                    data-search="false"
                                    data-query-params="queryParams"
                                    data-response-handler="responseHandler_msHx"
                                    data-detail-formatter="detailFormatter_msHx"
                                    data-detail-view="true"
                                    data-detail-view-icon="true"
                                    >
                                    <thead>
                                        <tr>
                                            <th data-field="onset" data-sortable="true">Onset</th>
                                            <th data-field="ended" data-sortable="false">Ended</th>
                                            <th data-field="title" data-sortable="true">Title</th>
                                            <th data-field="site" data-sortable="true">Site</th>
                                            <th data-field="note" data-sortable="true">Note</th>
                                            <th data-field="operate" data-formatter="operateFormatter_msHx" data-events="operateEvents_msHx">Action</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div> <!-- end row mHx_tbl-->
                    </div>
                </div>
                <div class="col">
                    <div class="row mb-3">
                        <div class="row mb-3">
                            <h4 class="big-title">Surgical Hx</h4>
                            <div>
                                <button type="button" id="btnNewsHx" class="btn btn-dark btn-sm" data-bs-toggle="modal" data-bs-target="#mHxModal" data-bs-category="surgical">Add past surgical history<i class="mx-2 fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col">
                                <table
                                    id="sHx_tbl"
                                    data-side-pagination="server"
                                    data-toggle="table"
                                    data-pagination="true"
                                    data-page-size="10"
                                    data-search="false"
                                    data-query-params="queryParams"
                                    data-response-handler="responseHandler_msHx"
                                    data-detail-formatter="detailFormatter_msHx"
                                    data-detail-view="true"
                                    data-detail-view-icon="true"
                                    >
                                    <thead>
                                        <tr>
                                            <th data-field="onset" data-sortable="true">Onset</th>
                                            <th data-field="ended" data-sortable="false">Ended</th>
                                            <th data-field="title" data-sortable="true">Title</th>
                                            <th data-field="site" data-sortable="true">Site</th>
                                            <th data-field="note" data-sortable="true">Note</th>
                                            <th data-field="operate" data-formatter="operateFormatter_msHx" data-events="operateEvents_msHx">Action</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- end div row mHx sHx -->
        </div>
    </div>
    <div class="row history">
        <h3 class="big-title"><a role="button" data-bs-toggle="collapse" href=".oHx">Ocular history</a></h3>
        <div class="col oHx">
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, maxime. Sequi dolores commodi cum porro veritatis rerum cumque praesentium dolore aspernatur consequuntur fugiat suscipit eaque, unde nisi fugit sapiente aut.</p>
        </div> <!-- end oHx col-->
    </div> <!-- end ocular Hx row-->
</div>

<div class="container-fluid mb-3">
    <div class="row big-title">
        <div class="col">
            <h2><a role="button" data-bs-toggle="collapse" href=".pHx">Present History</a></h2>
        </div>
    </div>
    <div class="row pHx">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque rem recusandae culpa sit officiis, non error, veniam laudantium provident minus facere ipsam nobis quas dicta aperiam odit, doloribus quae eos.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque rem recusandae culpa sit officiis, non error, veniam laudantium provident minus facere ipsam nobis quas dicta aperiam odit, doloribus quae eos.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque rem recusandae culpa sit officiis, non error, veniam laudantium provident minus facere ipsam nobis quas dicta aperiam odit, doloribus quae eos.</p>
    </div>
</div>

<div id="cx-container" class="container-fluid mb-3"> <!-- container clinical exams -->
    <div class="row mb-3 big-title">
        <div class="col">
            <h2><a role="button" data-bs-toggle="collapse" href=".clinical">Clinical exam</a></h2>
        </div>
    </div>
    <div class="row mb-3 clinical">
        <div class="col">
            <div class="row">
                <div class="col">
                    <h3 class="title-right">Right eye</h3>
                </div>
                <div class="col">
                    <h3 class="title-left">Left eye</h3>
                </div>
            </div>
            <div class="row">
                <div class="col bg-right">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
                <div class="col bg-left">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
            </div>
        </div>
    </div>
    <div class="row mb-3 clinical">
        <div class="col">
            <div class="row">
                <div class="col">
                    <h3 class="title-right">Miscellaneous</h3>
                </div>
            </div>
            <div class="row">
                <div class="col bg-right">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="cc-container" class="container-fluid mb-3"> <!-- container conclusions -->
    <div class="row mb-3 big-title">
        <div class="col">
            <h2><a role="button" data-bs-toggle="collapse" href=".dx">Conclusions</a></h2>
        </div>
    </div>
    <div class="row mb-3 dx">
        <div class="col">
            <div class="row">
                <div class="col">
                    <h3 class="title-right">Right eye</h3>
                </div>
                <div class="col">
                    <h3 class="title-left">Left eye</h3>
                </div>
            </div>
            <div class="row">
                <div class="col bg-right">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
                <div class="col bg-left">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
            </div>
        </div>
    </div>
    <div class="row mb-3 dx">
        <div class="col">
            <div class="row">
                <div class="col">
                    <h3 class="title-right">Miscellaneous</h3>
                </div>
            </div>
            <div class="row">
                <div class="col bg-right">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="x-container" class="container-fluid mb-3"> <!-- container actions -->
    <div class="row mb-3 big-title">
        <div class="col">
            <h2><a role="button" data-bs-toggle="collapse" href=".actions">Actions</a></h2>
        </div>
    </div>
    <div class="row mb-3 actions">
        <div class="col">
            <div class="row">
                <div class="col">
                    <h3 class="title-right">Medical Rx</h3>
                </div>
                <div class="col">
                    <h3 class="title-left">Glass Rx</h3>
                </div>
                <div class="col">
                    <h3 class="title-right">Papers</h3>
                </div>
            </div>
            <div class="row">
                <div class="col bg-right">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
                <div class="col bg-left">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
                <div class="col bg-right">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
            </div>
        </div>
    </div>
    <div class="row mb-3 actions">
        <div class="col">
            <div class="row">
                <div class="col">
                    <h3 class="title-right">Follow-up</h3>
                </div>
            </div>
            <div class="row">
                <div class="col bg-right">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="bill-container" class="container-fluid mb-3"> <!-- container billing -->
    <div class="row mb-3 big-title">
        <div class="col">
            <h2><a role="button" data-bs-toggle="collapse" href=".bill">Billing</a></h2>
        </div>
    </div>
    <div class="row mb-3 bill">
        <div class="col">
            <div class="row">
                <div class="col">
                    <h3 class="title-right">Right eye</h3>
                </div>
                <div class="col">
                    <h3 class="title-left">Left eye</h3>
                </div>
                <div class="col">
                    <h3 class="title-right">General</h3>
                </div>
            </div>
            <div class="row">
                <div class="col bg-right">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
                <div class="col bg-left">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
                <div class="col bg-right">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
            </div>
        </div>
    </div>
    <div class="row mb-3 bill">
        <div class="col">
            <div class="row">
                <div class="col">
                    <h3 class="title-right">Recap</h3>
                </div>
            </div>
            <div class="row">
                <div class="col bg-right">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deleniti dolor vitae libero a doloremque nobis quo quidem incidunt non suscipit molestiae odit velit obcaecati pariatur, porro explicabo laborum? Impedit!</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal mxModal -->
<div class="modal fade" id="mxModal" tabindex="-1" role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New medication</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <form id="mxFormModal" enctype="multipart/form-data" method="POST">
                                <div class="container-fluid">
                                    <div class="row mb-3">
                                        <div class="col">
                                            <label for="mxdelivery_modal" class="form-label">Side:</label>
                                            <div class="input-group">
                                                <div class="btn-group mxdelivery_modal">
                                                    <input type="radio" id="mxdelivery_right_modal" name="delivery" class="btn-check" value="right" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mxdelivery_right_modal">Right</label>
                                                    <input type="radio" id="mxdelivery_left_modal" name="delivery" class="btn-check" value="left" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mxdelivery_left_modal">Left</label>
                                                    <input type="radio" id="mxdelivery_both_modal" name="delivery" class="btn-check" value="both" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mxdelivery_both_modal">Both</label>
                                                    <input type="radio" id="mxdelivery_po_modal" name="delivery" class="btn-check" value="PO" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mxdelivery_po_modal">PO</label>
                                                    <input type="radio" id="mxdelivery_local_modal" name="delivery" class="btn-check" value="local" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mxdelivery_local_modal">Local</label>
                                                    <input type="radio" id="mxdelivery_iv_modal" name="delivery" class="btn-check" value="IV" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mxdelivery_iv_modal">IV</label>
                                                    <input type="radio" id="mxdelivery_im_modal" name="delivery" class="btn-check" value="IM" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mxdelivery_im_modal">IM</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <label for="mxOnset" class="form-label">Onset:</label>
                                            <input id="mxOnset" type="date" step="1" class="form-control"
                                                name="onset">
                                            <div id="mxOnsetHelp" class="form-text">Adjust onset</div>
                                        </div>
                                        <div class="col">
                                            <label for="mxEnded" class="form-label">End:</label>
                                            <input id="mxEnded" type="date" step="1" class="form-control" name="ended">
                                            <div id="mxEndedHelp" class="form-text">Adjust end date</div>
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col">
                                            <label for="medicModal" class="form-label">Medication:</label>
                                            <input id="medicModal" type="text" class="form-control" name="medication" autocomplete="off">
                                            <div id="medicModalHelp" class="form-text">Enter medication name</div>
                                        </div>
                                        <div class="col-2">
                                            <label for="intake_modal" class="form-label">Intake:</label>
                                            <div class="input-group mb-3">
                                                <button class="btn btn-outline-secondary counter_down_intake" type="button">-</button>
                                                <input type="text" class="form-control form-control-sm intake_modal counter_intake text-center" value="1.00" aria-label="Intake" name="unit_per_intake">
                                                <button class="btn btn-outline-secondary counter_up_intake" type="button">+</button>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <label for="freqModal" class="form-label">Frequency:</label>
                                            <input id="freqModal" type="text" class="form-control" name="frequency" autocomplete="off">
                                            <div id="freqModalHelp" class="form-text">Enter frequency</div>
                                        </div>
                                    </div>
                                </div>
                                <input id="idMx" type="text" class="visually-hidden" name="id_medic_ref" />
                                <input id="idMxRow" type="text" class="visually-hidden" name="id" />
                                <input id="idPatientRx" type="text" class="visually-hidden" name="id_auth_user" />
                                <input id="methodMxModalSubmit" type="text" class="visually-hidden" name="methodMxModalSubmit" value="POST" />
                                <input id="btnMxModalSubmit" type="submit" class="visually-hidden" />
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <label id="mxModalSubmit" for="btnMxModalSubmit" class="btn btn-primary" tabindex="0">Submit</label>
            </div>
        </div>
    </div>
</div>

<!-- Modal axModal -->
<div class="modal fade" id="axModal" tabindex="-1" role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New allergy</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <form id="axFormModal" enctype="multipart/form-data" method="POST">
                                <div class="container-fluid">
                                    <div class="row mb-3">
                                        <div class="col">
                                            <label for="typ_modal" class="form-label">Type:</label>
                                            <div class="input-group">
                                                <div class="btn-group typ_modal">
                                                    <input type="radio" id="typ_allergy_modal" name="typ" class="btn-check" value="allergy" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="typ_allergy_modal">Allergy</label>
                                                    <input type="radio" id="typ_atopy_modal" name="typ" class="btn-check" value="atopy" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="typ_atopy_modal">Atopy</label>
                                                    <input type="radio" id="typ_intolerance_modal" name="typ" class="btn-check" value="intolerance" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="typ_intolerance_modal">Intolerance</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <label for="axOnset" class="form-label">Onset:</label>
                                            <input id="axOnset" type="date" step="1" class="form-control"
                                                name="onset">
                                            <div id="axOnsetHelp" class="form-text">Adjust onset</div>
                                        </div>
                                        <div class="col">
                                            <label for="axEnded" class="form-label">End:</label>
                                            <input id="axEnded" type="date" step="1" class="form-control" name="ended">
                                            <div id="axEndedHelp" class="form-text">Adjust end date</div>
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col">
                                            <label for="agentModal" class="form-label">Agent:</label>
                                            <input id="agentModal" type="text" class="form-control" name="agent" autocomplete="off">
                                            <div id="medicModalHelp" class="form-text">Enter agent name</div>
                                        </div>
                                    </div>
                                </div>
                                <input id="idAgent" type="text" class="visually-hidden" name="id_agent" />
                                <input id="idAxRow" type="text" class="visually-hidden" name="id" />
                                <input id="idPatientAx" type="text" class="visually-hidden" name="id_auth_user" />
                                <input id="methodAxModalSubmit" type="text" class="visually-hidden" name="methodAxModalSubmit" value="POST" />
                                <input id="btnAxModalSubmit" type="submit" class="visually-hidden" />
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <label id="axModalSubmit" for="btnAxModalSubmit" class="btn btn-primary" tabindex="0">Submit</label>
            </div>
        </div>
    </div>
</div>

<!-- Modal mHxModal -->
<div class="modal fade" id="mHxModal" tabindex="-1" role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New medical history</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <form id="mHxFormModal" enctype="multipart/form-data" method="POST">
                                <div class="container-fluid">
                                    <div class="row mb-3">
                                        <div class="col">
                                            <label for="category_modal" class="form-label">Category:</label>
                                            <div class="input-group">
                                                <div class="btn-group category_modal">
                                                    <input type="radio" id="mHxcategory_medical_modal" name="category" class="btn-check" value="medical" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mHxcategory_medical_modal">Medical</label>
                                                    <input type="radio" id="mHxcategory_surgical_modal" name="category" class="btn-check" value="surgical" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mHxcategory_surgical_modal">Surgical</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <label for="mHxsite_modal" class="form-label">Site:</label>
                                            <div class="input-group">
                                                <div class="btn-group site_modal">
                                                    <input type="radio" id="mHxsite_right_modal" name="site" class="btn-check" value="right" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mHxsite_right_modal">Right</label>
                                                    <input type="radio" id="mHxsite_left_modal" name="site" class="btn-check" value="left" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mHxsite_left_modal">Left</label>
                                                    <input type="radio" id="mHxsite_both_modal" name="site" class="btn-check" value="both" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mHxsite_both_modal">Both</label>
                                                    <input type="radio" id="mHxsite_local_modal" name="site" class="btn-check" value="local" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mHxsite_local_modal">Local</label>
                                                    <input type="radio" id="mHxsite_systemic_modal" name="site" class="btn-check" value="systemic" autocomplete="off">
                                                    <label class="btn btn-outline-primary" for="mHxsite_systemic_modal">Systemic</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col">
                                            <label for="mHxOnset" class="form-label">Onset:</label>
                                            <input id="mHxOnset" type="date" step="1" class="form-control"
                                                name="onset">
                                            <div id="mHxOnsetHelp" class="form-text">Adjust onset</div>
                                        </div>
                                        <div class="col">
                                            <label for="mHxEnded" class="form-label">End:</label>
                                            <input id="mHxEnded" type="date" step="1" class="form-control" name="ended">
                                            <div id="mHxEndedHelp" class="form-text">Adjust end date</div>
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col">
                                            <label for="mHxtitleModal" class="form-label">Title:</label>
                                            <input id="mHxtitleModal" type="text" class="form-control" name="title" autocomplete="off">
                                            <div id="mHxtitleModalHelp" class="form-text">Enter disease title</div>
                                        </div>
                                        <div class="col">
                                            <label for="mHxnoteModal" class="form-label">Note:</label>
                                            <input id="mHxnoteModal" type="text" class="form-control" name="note" autocomplete="off">
                                            <div id="mHxnoteModalHelp" class="form-text">Note</div>
                                        </div>
                                    </div>
                                </div>
                                <input id="idDiseaseRef" type="text" class="visually-hidden" name="id_disease_ref" />
                                <input id="idmHxRow" type="text" class="visually-hidden" name="id" />
                                <input id="idPatientmHx" type="text" class="visually-hidden" name="id_auth_user" />
                                <input id="methodmHxModalSubmit" type="text" class="visually-hidden" name="methodmHxModalSubmit" value="POST" />
                                <input id="btnmHxModalSubmit" type="submit" class="visually-hidden" />
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <label id="mHxModalSubmit" for="btnmHxModalSubmit" class="btn btn-primary" tabindex="0">Submit</label>
            </div>
        </div>
    </div>
</div>



[[ block js_scripts]]

<script type="text/javascript">
// Global variables
const HOSTURL = 'http://localhost:8000';
const wlId = [[= wlId ]];
const userId = [[ = userId ]]
</script>

<!-- <script src="js/bootstrap-table/bootstrap-table.min.js"></script> -->
<!-- <script src="js/bootstrap-table/bootstrap-table.js"></script> -->
<script src="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.js"></script>
<script src="js/bootbox/bootbox.all.min.js"></script>
<script src="js/jquery.serialize-object.min.js"></script>
<!-- https://bootstrap-autocomplete.readthedocs.io/en/latest/ -->
<script src="https://cdn.jsdelivr.net/gh/xcash/bootstrap-autocomplete@master/dist/latest/bootstrap-autocomplete.min.js"></script> 
<script src="js/useful.js"></script>
<script src="js/patient-bar.js"></script>
<script src="js/md_bt.js"></script>
<script type="text/javascript">

// submit btn to disable when done
const btnArr = [];

// init tables
const API_MD = HOSTURL + "/myapp/api/md?@lookup=mod!:modified_by[id,first_name,last_name],creator!:created_by[id,first_name,last_name]&@count=true&id_worklist.eq="+wlId;
const API_AUTODICT = HOSTURL + "/myapp/api/auto_dict?@lookup=mod!:modified_by[id,first_name,last_name],creator!:created_by[id,first_name,last_name]&@count=true&keywd.eq="; // add keywd parameter & keyoptions eg 'frequency&keyoptions.contains=...'
const API_MXUSER = HOSTURL + "/myapp/api/mx?@lookup=medication!:id_medic_ref[id,name,brand,form],mod!:modified_by[id,first_name,last_name],creator!:created_by[id,first_name,last_name]&@count=true&id_auth_user.eq=" + userId;
const API_MEDICATIONS = HOSTURL + "/myapp/api/medic_ref?@lookup=mod!:modified_by[id,first_name,last_name],creator!:created_by[id,first_name,last_name]&@count=true";
const API_AXUSER = HOSTURL + "/myapp/api/allergy?@lookup=agentRef!:id_agent[id,name,code,description],mod!:modified_by[id,first_name,last_name],creator!:created_by[id,first_name,last_name]&@count=true&id_auth_user.eq=" + userId;
const API_AGENTS = HOSTURL + "/myapp/api/agent?@lookup=mod!:modified_by[id,first_name,last_name],creator!:created_by[id,first_name,last_name]&@count=true";
const API_MHXUSER = HOSTURL + "/myapp/api/phistory?category.eq=medical&@lookup=disease!:id_disease_ref[id,title,category,icd10],mod!:modified_by[id,first_name,last_name],creator!:created_by[id,first_name,last_name]&@count=true&id_auth_user.eq=" + userId;
const API_SHXUSER = HOSTURL + "/myapp/api/phistory?category.eq=surgical&@lookup=disease!:id_disease_ref[id,title,category,icd10],mod!:modified_by[id,first_name,last_name],creator!:created_by[id,first_name,last_name]&@count=true&id_auth_user.eq=" + userId;
const API_DISEASES = HOSTURL + "/myapp/api/disease_ref?@lookup=mod!:modified_by[id,first_name,last_name],creator!:created_by[id,first_name,last_name]&@count=true";

var $mx_tbl = $('#mx_tbl').bootstrapTable({
    url: API_MXUSER
});

var $ax_tbl = $('#ax_tbl').bootstrapTable({
    url: API_AXUSER
});

var $mHx_tbl = $('#mHx_tbl').bootstrapTable({
    url: API_MHXUSER
});


var $sHx_tbl = $('#sHx_tbl').bootstrapTable({
    url: API_SHXUSER
});

// Fires after the table body is rendered and available in the DOM, the parameters contain data
$('#md_tbl').on('post-body.bs.table', function () {

});

</script>
<script src="js/md.js"></script>
[[ end ]]